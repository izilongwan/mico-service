```java
并发
  |- 乐观锁: 只在数据更新时加锁保证安全
    |- 版本号
    |- CAS compare and set
  |- 悲观锁
    |- synchronized
    |- lock
```

```java
- 缓存
  |- 缓存穿透: 指请求的数据在数据库中并不存在, 这样缓存永远不会生效但都会请求到数据库中
    |- 缓存null
    |- 布隆过滤
    |- 增加id复杂度和格式校验
    |- 加强用户权限校验
  |- 缓存穿透: 指请求的数据在数据库中并不存在, 这样缓存永远不会生效但都会请求到数据库中
    |- 缓存null
    |- 布隆过滤
    |- 增加id复杂度和格式校验
    |- 加强用户权限校验
  |- 缓存雪崩: 指同一时间大量缓存的key失效或者redis服务宕机,导致大量请求到达数据库
    |- 给不同的key的TTL加随机值 (5 + Math.random())
    |- 利用redis集群提高服务可用性
    |- 给缓存业务添加降级限流策略
    |- 给业务添加多级缓存
  |- 缓存击穿: 热点key问题, 高并发访问且缓存重建业务比较复杂的key突然失效,导致大量请求到达数据库
    |- 互斥锁 (保证了一致性)
    |- 逻辑过期 (保证了可用性)
```
